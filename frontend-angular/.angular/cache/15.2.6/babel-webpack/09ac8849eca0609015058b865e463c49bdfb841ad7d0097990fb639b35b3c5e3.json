{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Posting } from '../_model/posting';\nlet PostingFormComponent = class PostingFormComponent {\n  constructor(dataService, router, postingService) {\n    this.dataService = dataService;\n    this.router = router;\n    this.postingService = postingService;\n  }\n  ngOnInit() {\n    if (this.dataService.editPosting == null || this.dataService.editPosting.id == -1) {\n      console.log(\"url:\" + this.router.url.substring(this.router.url.length - 4));\n      if (this.router.url.substring(this.router.url.length - 4) == 'edit') {\n        this.router.navigate(['/postings/add']);\n      }\n      this.mode = \"Add New Posting\";\n      this.posting = new Posting();\n    } else {\n      this.mode = \"Update Existing Posting\";\n      this.posting = this.dataService.editPosting;\n    }\n  }\n  onSubmit() {\n    if (this.mode == \"Add New Posting\") {\n      this.postingService.save(this.posting).subscribe(() => this.goToPostingList());\n    }\n    if (this.mode == \"Update Existing Posting\") {\n      this.postingService.update(this.posting).subscribe(() => this.goToPostingList());\n    }\n  }\n  goToPostingList() {\n    this.router.navigate(['/postings']);\n  }\n};\nPostingFormComponent = __decorate([Component({\n  selector: 'app-posting-form',\n  templateUrl: './posting-form.component.html',\n  styleUrls: ['./posting-form.component.css']\n})], PostingFormComponent);\nexport { PostingFormComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}